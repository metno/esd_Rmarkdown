getwd()
install.packages('zoo')
install.packages('ncdf4')
install.packages('ncdf4')
install.packages('ncdf4')
install.packages('devtools')
install.packages('httr')
install.packages('openssl')
install.packages('openssl')
install.packages('httr')
install.packages('devtools')
install.packages('rshiny')
install.packages('shiny')
install.packages('rmarkdown')
install.packages('RgoogleMaps')
install.packages('jpeg')
install.packages('RgoogleMaps')
install.packages('RgoogleMaps')
install.packages('LatticeKrig')
install.packages('spam')
install.packages('spam')
install.packages('LatticeKrig')
install.packages('RgoogleMaps')
install.packages('RgoogleMaps')
shiny::runApp('git/esd_Rshiny/AACA-ESD-Atlas')
runApp('git/esd_Rshiny/AACA-ESD-Atlas')
library(devtools)
install_github('metno/esd')
runApp('git/esd_Rshiny/AACA-ESD-Atlas')
install_github('metno/esd')
runApp('git/esd_Rshiny/AACA-ESD-Atlas')
rsconnect::setAccountInfo(name='brasmus',
token='D4DBB92676C59E29CC7F9A4F8561B2B0',
secret='<SECRET>')
rsconnect::setAccountInfo(name='brasmus',
token='A05DAA7194D3E65C1BA75338CC1ACCEF',
secret='<SECRET>')
rsconnect::setAccountInfo(name='brasmus',
token='391C85F1B45BDD4E84431729F404C82B',
secret='<SECRET>')
rsconnect::setAccountInfo(name='brasmus',
token='391C85F1B45BDD4E84431729F404C82B',
secret='<SECRET>')
rsconnect::setAccountInfo(name='brasmus',
token='391C85F1B45BDD4E84431729F404C82B',
secret='<SECRET>')
shiny::runApp('R/Rshiny/AACA-ESD-Atlas')
runApp('R/Rshiny/AACA-ESD-Atlas')
runApp('R/Rshiny/AACA-ESD-Atlas')
runApp('R/Rshiny/dse4KSS')
runApp('R/Rshiny/dse4KSS')
runApp('R/Rshiny/dse4KSS')
runApp('R/Rshiny/dse4KSS')
getwd()
setwd('R/Rshiny/dse4KSS/')
runApp('~/R/Rshiny/dse4KSS')
Z4 <- list()
load('data/dse.kss.t2m.rcp45.djf.eof.rda')
Z4$t2m.djf.45 <- Z
load('data/dse.kss.t2m.rcp45.mam.eof.rda')
Z4$t2m.mam.45 <- Z
load('data/dse.kss.t2m.rcp45.jja.eof.rda')
Z4$t2m.jja.45 <- Z
load('data/dse.kss.t2m.rcp45.son.eof.rda')
Z4$t2m.son.45 <- Z
load('data/dse.kss.t2m.rcp26.djf.eof.rda')
Z4$t2m.djf.26 <- Z
load('data/dse.kss.t2m.rcp26.mam.eof.rda')
Z4$t2m.mam.26 <- Z
load('data/dse.kss.t2m.rcp26.jja.eof.rda')
Z4$t2m.jja.26 <- Z
load('data/dse.kss.t2m.rcp26.son.eof.rda')
Z4$t2m.son.26 <- Z
load('data/dse.kss.t2m.rcp85.djf.eof.rda')
Z4$t2m.djf.85 <- Z
load('data/dse.kss.t2m.rcp85.mam.eof.rda')
Z4$t2m.mam.85 <- Z
load('data/dse.kss.t2m.rcp85.jja.eof.rda')
Z4$t2m.jja.85 <- Z
load('data/dse.kss.t2m.rcp85.son.eof.rda')
Z4$t2m.son.85 <- Z
## Wet-day frequency
load('data/dse.kss.fw.rcp45.djf.eof.rda')
Z4$fw.djf.45 <- Z
load('data/dse.kss.fw.rcp45.mam.eof.rda')
Z4$fw.mam.45 <- Z
load('data/dse.kss.fw.rcp45.jja.eof.rda')
Z4$fw.jja.45 <- Z
load('data/dse.kss.fw.rcp45.son.eof.rda')
Z4$fw.son.45 <- Z
load('data/dse.kss.fw.rcp26.djf.eof.rda')
Z4$fw.djf.26 <- Z
load('data/dse.kss.fw.rcp26.mam.eof.rda')
Z4$fw.mam.26 <- Z
load('data/dse.kss.fw.rcp26.jja.eof.rda')
Z4$fw.jja.26 <- Z
load('data/dse.kss.fw.rcp26.son.eof.rda')
Z4$fw.son.26 <- Z
load('data/dse.kss.fw.rcp85.djf.eof.rda')
Z4$fw.djf.85 <- Z
load('data/dse.kss.fw.rcp85.mam.eof.rda')
Z4$fw.mam.85 <- Z
load('data/dse.kss.fw.rcp85.jja.eof.rda')
Z4$fw.jja.85 <- Z
load('data/dse.kss.fw.rcp85.son.eof.rda')
Z4$fw.son.85 <- Z
## Wet-day mean precipitation
load('data/dse.kss.mu.rcp45.djf.eof.rda')
Z4$mu.djf.45 <- Z
load('data/dse.kss.mu.rcp45.mam.eof.rda')
Z4$mu.mam.45 <- Z
load('data/dse.kss.mu.rcp45.jja.eof.rda')
Z4$mu.jja.45 <- Z
load('data/dse.kss.mu.rcp45.son.eof.rda')
Z4$mu.son.45 <- Z
load('data/dse.kss.mu.rcp26.djf.eof.rda')
Z4$mu.djf.26 <- Z
load('data/dse.kss.mu.rcp26.mam.eof.rda')
Z4$mu.mam.26 <- Z
load('data/dse.kss.mu.rcp26.jja.eof.rda')
Z4$mu.jja.26 <- Z
load('data/dse.kss.mu.rcp26.son.eof.rda')
Z4$mu.son.26 <- Z
load('data/dse.kss.mu.rcp85.djf.eof.rda')
Z4$mu.djf.85 <- Z
load('data/dse.kss.mu.rcp85.mam.eof.rda')
Z4$mu.mam.85 <- Z
load('data/dse.kss.mu.rcp85.jja.eof.rda')
Z4$mu.jja.85 <- Z
load('data/dse.kss.mu.rcp85.son.eof.rda')
Z4$mu.son.85 <- Z
load('data/t2m.nordic.rda')
locs <<- loc(Z4[[1]]$pca)
gcmnames <<- names(Z4[[1]])[-c(1,2,length(Z4[[1]]))]
li <- 1
im <- rep(TRUE,length(gcmnames))
main <- 'test'
is <- NULL
it <- c(2050,2050)
y <- map(Z4[[li]],FUN=FUN,FUNX=FUNX,it=it,is=is,im=im,plot=FALSE)
y <- map(Z4[[li]],FUN=FUN,FUNX=FUNX,it=it,is=is,im=im,plot=FALSE,verbose=TRUE)
library(devtools)
install_local('~/R/esd')
y <- map(Z4[[li]],FUN=FUN,FUNX=FUNX,it=it,is=is,im=im,plot=FALSE,verbose=TRUE)
str(y)
str(X)
str(x)
install_local('~/R/esd')
source('~/R/Rshiny/dse4KSS/check.dse.R')
source('~/R/Rshiny/dse4KSS/check.dse.R')
rm(list=ls())
Z4 <- list()
load('data/dse.kss.t2m.rcp45.djf.eof.rda')
Z4$t2m.djf.45 <- Z
load('data/dse.kss.t2m.rcp45.mam.eof.rda')
Z4$t2m.mam.45 <- Z
load('data/dse.kss.t2m.rcp45.jja.eof.rda')
Z4$t2m.jja.45 <- Z
load('data/dse.kss.t2m.rcp45.son.eof.rda')
Z4$t2m.son.45 <- Z
load('data/dse.kss.t2m.rcp26.djf.eof.rda')
Z4$t2m.djf.26 <- Z
load('data/dse.kss.t2m.rcp26.mam.eof.rda')
Z4$t2m.mam.26 <- Z
load('data/dse.kss.t2m.rcp26.jja.eof.rda')
Z4$t2m.jja.26 <- Z
load('data/dse.kss.t2m.rcp26.son.eof.rda')
Z4$t2m.son.26 <- Z
load('data/dse.kss.t2m.rcp85.djf.eof.rda')
Z4$t2m.djf.85 <- Z
load('data/dse.kss.t2m.rcp85.mam.eof.rda')
Z4$t2m.mam.85 <- Z
load('data/dse.kss.t2m.rcp85.jja.eof.rda')
Z4$t2m.jja.85 <- Z
load('data/dse.kss.t2m.rcp85.son.eof.rda')
Z4$t2m.son.85 <- Z
## Wet-day frequency
load('data/dse.kss.fw.rcp45.djf.eof.rda')
Z4$fw.djf.45 <- Z
load('data/dse.kss.fw.rcp45.mam.eof.rda')
Z4$fw.mam.45 <- Z
load('data/dse.kss.fw.rcp45.jja.eof.rda')
Z4$fw.jja.45 <- Z
load('data/dse.kss.fw.rcp45.son.eof.rda')
Z4$fw.son.45 <- Z
load('data/dse.kss.fw.rcp26.djf.eof.rda')
Z4$fw.djf.26 <- Z
load('data/dse.kss.fw.rcp26.mam.eof.rda')
Z4$fw.mam.26 <- Z
load('data/dse.kss.fw.rcp26.jja.eof.rda')
Z4$fw.jja.26 <- Z
load('data/dse.kss.fw.rcp26.son.eof.rda')
Z4$fw.son.26 <- Z
load('data/dse.kss.fw.rcp85.djf.eof.rda')
Z4$fw.djf.85 <- Z
load('data/dse.kss.fw.rcp85.mam.eof.rda')
Z4$fw.mam.85 <- Z
load('data/dse.kss.fw.rcp85.jja.eof.rda')
Z4$fw.jja.85 <- Z
load('data/dse.kss.fw.rcp85.son.eof.rda')
Z4$fw.son.85 <- Z
## Wet-day mean precipitation
load('data/dse.kss.mu.rcp45.djf.eof.rda')
Z4$mu.djf.45 <- Z
load('data/dse.kss.mu.rcp45.mam.eof.rda')
Z4$mu.mam.45 <- Z
load('data/dse.kss.mu.rcp45.jja.eof.rda')
Z4$mu.jja.45 <- Z
load('data/dse.kss.mu.rcp45.son.eof.rda')
Z4$mu.son.45 <- Z
load('data/dse.kss.mu.rcp26.djf.eof.rda')
Z4$mu.djf.26 <- Z
load('data/dse.kss.mu.rcp26.mam.eof.rda')
Z4$mu.mam.26 <- Z
load('data/dse.kss.mu.rcp26.jja.eof.rda')
Z4$mu.jja.26 <- Z
load('data/dse.kss.mu.rcp26.son.eof.rda')
Z4$mu.son.26 <- Z
load('data/dse.kss.mu.rcp85.djf.eof.rda')
Z4$mu.djf.85 <- Z
load('data/dse.kss.mu.rcp85.mam.eof.rda')
Z4$mu.mam.85 <- Z
load('data/dse.kss.mu.rcp85.jja.eof.rda')
Z4$mu.jja.85 <- Z
load('data/dse.kss.mu.rcp85.son.eof.rda')
Z4$mu.son.85 <- Z
load('data/t2m.nordic.rda')
plot(Z[[1]])
names(Z)
names(Z4)
plot(Z4[[1]])
plot(Z)
plot(Z,verbose=TRUE)
runApp('~/R/Rshiny/dse4KSS')
runApp('~/git/esd_Rshiny/AACA-ESD-Atlas')
plot(Z,verbose=TRUE)
runApp('~/R/Rshiny/dse4KSS')
y <- map(Z4[[li]],FUN=FUN,FUNX=FUNX,it=it,is=is,im=im,plot=FALSE,verbose=TRUE)
li =1
it = c(2050,2050)
locs <<- loc(Z4[[1]]$pca)
gcmnames <<- names(Z4[[1]])[-c(1,2,length(Z4[[1]]))]
im <- rep(TRUE,length(gcmnames))
y <- map(Z4[[li]],FUN=FUN,FUNX=FUNX,it=it,is=is,im=im,plot=FALSE,verbose=TRUE)
is <- NULL
y <- map(Z4[[li]],FUN=FUN,FUNX=FUNX,it=it,is=is,im=im,plot=FALSE,verbose=TRUE)
setwd('~/storeB/dse4KSS')
load('dse.kss.t2m.rcp45.djf.eof.rda')
plot(Z)
plot(Z,verbose=TRUE)
names(Z)
str(Z)
data("imilast.M03")
plot(imilast.M03)
UK <- subset(imilast.M03,is=llist(lon=c(-10,2),lat=c(50,55)))
UK <- subset(imilast.M03,is=list(lon=c(-10,2),lat=c(50,55)))
mak(UK)
map(UK)
knitr::opts_chunk$set(echo = TRUE)
plot(UK)
uk <- plot(UK)
lines(trend(uk))
data(imilast.M03)
Baltic <- subset(imilast.M03,is=list(lon=c(15,25),lat=c(53,60)))
map(Baltic)
data(imilast.M03)
Baltic <- subset(imilast.M03,is=list(lon=c(15,25),lat=c(53,60)))
map(Baltic)
nstorms <- plot(Baltic)
lines(trend(nstorms))
install_local('~/R/esd')
nstorms <- plot(Baltic)
lines(trend(nstorms))
data(imilast.M03)
Baltic <- subset(imilast.M03,is=list(lon=c(15,25),lat=c(55,60)))
map(Baltic)
data(imilast.M03)
Baltic <- subset(imilast.M03,is=list(lon=c(15,25),lat=c(55,60)))
map(Baltic)
nstorms <- plot(Baltic)
lines(trend(nstorms),lty=2)
knitr::opts_chunk$set(echo = TRUE)
gsl <- GSL()
gsl <- GSL()
GSL
runApp('~/R/Rshiny/dse4KSS')
source('~/R/Rshiny/dse4KSS/check.dse.R')
getwd()
runApp('~/R/Rshiny/dse4KSS')
getwd()
setwd('~/R')
setwd('Rmarkdown/EU-Circle/')
knitr::opts_chunk$set(echo = TRUE)
# Daily precipitation from BMD
load('bmd.rda')
mu <- apply(coredata(pr.bmd),2,'wetmean')
X <- t(t(pr.bmd)/mu)
mu
plot(X)
X <- zoo(t(t(pr.bmd)/mu),order.by=index(pr.bmd))
plot(X)
plot(merge(X[,1],zoo(subset(pr.bmd,is=1))))
dim(pr.bmd)
colMeans(dim(pr.bmd))
colMeans(pr.bmd)
mu <- apply(coredata(pr.bmd),2,'wetmean')
X <- zoo(rowMeans(t(t(pr.bmd)/mu),na.rm=TRUE),order.by=index(pr.bmd))
plot(X)
nv <- apply(coredata(pr.bmd),1,'nv')
nv
mu <- apply(coredata(pr.bmd),2,'wetmean')
nv <- apply(coredata(pr.bmd),1,'nv')
X <- zoo(rowMeans(t(t(pr.bmd)/mu),na.rm=TRUE),order.by=index(pr.bmd))
X[nv < 11] <- NA
plot(X)
wheel(X)
mu <- apply(coredata(pr.bmd),2,'wetmean')
nv <- apply(coredata(pr.bmd),1,'nv')
X <- zoo(rowMeans(t(t(pr.bmd)/mu),na.rm=TRUE),order.by=index(pr.bmd))
X <- as.station(X,param='rain-index',unit='dimensionless',location='Bangladesh',
lon=mean(lon(pr.bmd)),lat=mean(lat(pr.bmd)),alt=0)
mu <- apply(coredata(pr.bmd),2,'wetmean')
nv <- apply(coredata(pr.bmd),1,'nv')
X <- zoo(rowMeans(t(t(pr.bmd)/mu),na.rm=TRUE),order.by=index(pr.bmd))
X <- as.station(X,param='rain-index',unit='dimensionless',loc='Bangladesh',
lon=mean(lon(pr.bmd)),lat=mean(lat(pr.bmd)),alt=0)
X[nv < 11] <- NA
mu <- apply(coredata(pr.bmd),2,'wetmean')
nv <- apply(coredata(pr.bmd),1,'nv')
X <- zoo(rowMeans(t(t(pr.bmd)/mu),na.rm=TRUE),order.by=index(pr.bmd))
X[nv < 11] <- NA
X <- as.station(X,param='rain-index',unit='dimensionless',loc='Bangladesh',
lon=mean(lon(pr.bmd)),lat=mean(lat(pr.bmd)),alt=0)
wheel(X)
plot(annual(X,'wetmean'),new=FALSE)
gsl <- GSL()
install_local('~/R/esd')
gsl <- GSL()
gloss <- station.gcloss()
gsl <- GSL()
gloss <- station.gloss()
sonel <- station.sonel()
newlin <- station.newlin()
newlin <- station.newlyn()
newlyn <- newlin
rm('newlin')
plot(newlyn)
plot(annual(newlyn))
plot(gsl)
plot(gloss)
plot(sonel)
diagnose(gloss)
gloss <- subset(gloss,it=c(1950,2000))
diagnose(gloss)
gloss <- subset(gloss,it=c(1950,1996))
diagnose(gloss)
gloss <- subset(gloss,it=c(1950,1993))
diagnose(gloss)
gloss <- subset(gloss,it=c(1950,1992))
nv <- apply(coredata(gloss),2,'nv')
nv
gloss0 <- gloss
gloss <- subset(gloss,it=c(1950,1992))
nv <- apply(coredata(gloss),2,'nv')
gloss <- subset(gloss,is=nv > 400)
gloss <- pcafill(gloss)
gloss <- subset(gloss,it=c(1950,1992))
nv <- apply(coredata(gloss),2,'nv')
gloss <- subset(gloss,is=nv > 400)
gloss <- pcafill(gloss)
pca <- PCA(gloss)
plot(pca,new=FALSE)
plot(aggregate(gloss,month,'mean'))
colMeans(gloss)
rowMeans(gloss)
dm <- function(x) {
if (!is.null(dim(x))) y <- zoo(t(t(coredata(x)) -                      colMeans(coredata(x),na.rm=TRUE)),order.by=index(x)) else
y <- zoo(x - mean(x,na.rm=TRUE), order.by=index(x))
y <- attrcp(x,y)
class(y) <- class(x)
y
}
plot(dm(closs))
plot(dm(gloss))
plot(aggregate(dm(gloss),month,'mean'))
plot(aggregate(dm(gloss),month,'mean'))
plot(aggregate(dm(gloss),month,'mean'),map.show=FALSE,new=FALSE)
lines(aggregate(dm(gsl),month,'mean'))
lines(aggregate(dm(sonel),month,'mean'),lty=2)
plot(aggregate(dm(gloss),month,'mean'),map.show=FALSE,new=FALSE)
lines(aggregate(dm(gsl),month,'mean'))
plot(aggregate(sonel,month,'mean'),new=FALSE)
plot(aggregate(dm(gloss),month,'mean'),map.show=FALSE,new=FALSE)
lines(aggregate(dm(gsl),month,'mean'))
plot(aggregate(dm(sonel),month,'mean'),new=FALSE)
gloss <- gloss0
gloss <- subset(gloss,it=c(1950,1992))
nv <- apply(coredata(gloss),2,'nv')
gloss <- subset(gloss,is=nv > 400)
gloss <- pcafill(gloss)
pca <- PCA(annual(gloss))
plot(pca,new=FALSE)
diagnose(sonel)
diagnose(annual(sonel))
diagnose(annual(sonel,nmin=300))
diagnose(annual(sonel,nmin=300))
sonel <- annual(sonel,nmin=275)
sonel <- subset(sonel,it=c(1970,2015))
diagnose(annual(sonel,nmin=300))
nv <- apply(coredata(sonel),2,'nv')
nv
sonel <- subset(sonel,is=nv > 39)
sonel <- pcafill(sonel)
diagnose(sonel)
sonel <- station.sonel()
sonel <- annual(sonel,nmin=275)
sonel <- subset(sonel,it=c(1976,2015))
nv <- apply(coredata(sonel),2,'nv')
sonel <- subset(sonel,is=nv > 39)
sonel <- pcafill(sonel)
pca <- PCA(annual(gloss))
plot(pca,new=FALSE)
pca <- PCA(annual(sonel))
plot(sonel,new=FALSE)
plot(pca,new=FALSE)
sonel <- station.sonel()
sonel <- annual(sonel,nmin=275)
sonel <- subset(sonel,it=c(1976,2015))
nv <- apply(coredata(sonel),2,'nv')
sonel <- subset(sonel,is=nv > 30)
sonel <- pcafill(sonel)
pca <- PCA(annual(sonel))
plot(pca,new=FALSE)
xy <- merge(zoo(pca,annual(gsl)))
xy <- merge(zoo(pca),zoo(annual(gsl)))
index(pca)
index(gsl)
index(annual(gsl))
gsl <- annual(gsl); index(gsl) <- year(gsl)
xy <- merge(zoo(annual(gsl)),zoo(pca))
xy <- merge(zoo(pca),zoo(annual(gsl)))
plot(xy)
?merge
xy <- merge(zoo(annual(gsl)),zoo(pca),all=TRUE)
plot(xy)
xy <- merge(zoo(annual(gsl)),zoo(pca),all=TRUE)
plot(xy)
gsl <- annual(gsl); index(gsl) <- year(gsl)
xy <- merge(zoo(annual(gsl)),zoo(pca),all=TRUE)
cal.sl <- data.frame(y = xy[,2],x=xy[,1])
slfit <- lm(y ~ x, data=cal.sl)
print(summary(slfit))
attr(pca,'pattern')
attr(pca,'eigenvalues')
pca <- PCA(annual(sonel),n=3)
attr(pca,'pattern')
attr(pca,'eigenvalues')
y <- attr(pca,'eigenvalues')*attr(pca,'pattern')[,1]%*%pca[,1]
y <- attr(pca,'eigenvalues') * (pca[,1] %*% attr(pca,'pattern')[,1])
y <- attr(pca,'eigenvalues') * (pca[,1] %*% t(attr(pca,'pattern')[,1]))
dim(pca[,1])
length(pca[,1])
pca[,1] * attr(pca,'pattern')[,1]
pca[,1] %*% attr(pca,'pattern')[,1]
t(pca[,1]) %*% attr(pca,'pattern')[,1]
z <- pca[,1]
dim(z) <- c(length(z),1)
y <- attr(pca,'eigenvalues') * z %*% attr(pca,'pattern')[,1])
y <- attr(pca,'eigenvalues') * z %*% attr(pca,'pattern')[,1]
z <- pca[,1]; dim(z) <- c(length(z),1)
U <- attr(pca,'pattern')[,1]; dim(U) <- c(1,length(U))
y <- attr(pca,'eigenvalues') * z %*%
z <- pca[,1]; dim(z) <- c(length(z),1)
U <- attr(pca,'pattern')[,1]; dim(U) <- c(1,length(U))
y <- attr(pca,'eigenvalues') * z %*% U
z <- pca[,1]; dim(z) <- c(length(z),1)
U <- attr(pca,'pattern')[,1]; dim(U) <- c(1,length(U))
y <- attr(pca,'eigenvalues')[1] * z %*% U
z <- pca[,1]; dim(z) <- c(length(z),1)
U <- attr(pca,'pattern')[,1]; dim(U) <- c(1,length(U))
y <- zoo(attr(pca,'eigenvalues')[1] * slfit$coeffiecients[2] * z %*% U,order.by=index(pca))
slfit$coeffiecients[2]
slfit$coeffiecient[2]
slfit$coefficient[2]
z <- pca[,1]; dim(z) <- c(length(z),1)
U <- attr(pca,'pattern')[,1]; dim(U) <- c(1,length(U))
y <- zoo((attr(pca,'eigenvalues')[1] * slfit$coefficient[2]) * (z %*% U),order.by=index(pca))
z <- pca[,1]; dim(z) <- c(length(z),1)
U <- attr(pca,'pattern')[,1]; dim(U) <- c(1,length(U))
y <- zoo((attr(pca,'eigenvalues')[1] * slfit$coefficient[2]) * (z %*% U),order.by=index(pca))
plot(y)
z <- pca[,1]; dim(z) <- c(length(z),1)
U <- attr(pca,'pattern')[,1]; dim(U) <- c(1,length(U))
y <- zoo((attr(pca,'eigenvalues')[1] * slfit$coefficient[2]) * (z %*% U),order.by=index(pca))
plot(y,plot.type='single')
z <- pca[,1]; dim(z) <- c(length(z),1)
U <- attr(pca,'pattern')[,1]; dim(U) <- c(1,length(U))
y <- zoo((attr(pca,'eigenvalues')[1] * slfit$coefficient[2]) * (z %*% U),order.by=index(pca))
plot(y,plot.type='single')
grid()
z <- gsl; dim(z) <- c(length(z),1)
U <- attr(pca,'pattern')[,1]; dim(U) <- c(1,length(U))
## Need to apply the matrix product to recover the original data.
y <- zoo((attr(pca,'eigenvalues')[1] * slfit$coefficient[2]) * (z %*% U),order.by=index(gsl))
plot(y,plot.type='single')
grid()
runApp('~/R/Rshiny/dse4KSS')
rm(list=ls())
